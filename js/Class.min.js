function Class(e,t,n,r,i,s){this.name=e,this.crns=t,this.times=n,this.days=r,this.id=0,this.color=i,this.selected=s||this.crns.length;var a=this;this.tConvert=function(e){return e=e.toString().match(/^([01]?\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e],e.length>1&&(e=e.slice(1),e[5]=+e[0]<12?"am":"pm",e[0]=+e[0]%12||12),e.join("")},this.add_to_calendar=function(){$("div.class"+this.id+"display").remove();var e=["#sunday","#monday","#tuesday","#wednesday","#thursday","#friday","#saturday"],t=$("input:radio[name='classlist"+this.id+"']:checked").val();if("none"!=t&&null!=t){this.selected=this.crns.indexOf(t);for(var n=0;n<this.days[this.selected].length;n++)if(this.days[this.selected][n]){var r=this.times[this.selected][0].indexOf(":"),i=this.times[this.selected][1].indexOf(":"),s=parseInt(this.times[this.selected][0].substr(0,r)),a=parseInt(this.times[this.selected][0].substr(r+1)),o=this.times[this.selected][1].substr(0,i),l=this.times[this.selected][1].substr(i+1),u=parseFloat(a)/60,c=parseFloat(l)/60,d=parseFloat(o)-parseFloat(s)-(u-c);$(e[n]).append("<div class='class"+this.id+"display' id='class"+this.id+"-"+n+"'>"+this.name+"</div>"),$("#class"+this.id+"-"+n).css({width:$($(".hour")[0]).width(),height:$($(".hour")[0]).height()*d,"border-radius":.01*$($(".hour")[0]).width(),position:"absolute",top:$("#hourdiv"+s).position().top+$($(".hour")[0]).height()*u,left:$(e[n]).position().left,background:this.color})}}classes.length>0?window.history.replaceState(null,null,"?string="+createString()):window.history.replaceState(null,null,"")},this.add_to_list=function(e,n){this.id=$(".class").length.toString();for(var r=[],i=[],s=["Su","M","T","W","R","F","Sa"],o=0;o<this.days.length;o++){r[o]="";for(var l=0;7>l;l++)1==this.days[o][l]&&(r[o]=r[o]+s[l])}for(var o=0;o<this.times.length;o++){i[o]="";var u=this.times[o][0],c=this.times[o][1];n?i[o]=u.toString()+"-"+c.toString():(u=this.tConvert(u),c=this.tConvert(c),i[o]=u.toString()+"-"+c.toString())}e.append("<div class='class' id='classlist"+this.id+"'></div>"),$("#classlist"+this.id).append("<div class='name'>"+$("<div/>").text(this.name).html()+"</div>"),$("#classlist"+this.id).append("<button class='removeclass' onclick='javascript:remove_class("+this.id+");'><i class='fa fa-minus' aria-hidden='true'></i></button>"),$("#classlist"+this.id).append("<button class='edit' onclick='javascript:edit_class("+this.id+");'><i class='fa fa-pencil-square-o' aria-hidden='true'></i></button>"),$("#classlist"+this.id).append("<form id='class"+this.id+"form'></form>");for(var l=0;l<t.length;l++)$("#class"+this.id+"form").append("<input type='radio' name='classlist"+this.id+"' value="+$("<div/>").text(this.crns[l]).html()+" class='option'>"),$("#class"+this.id+"form").append("<div class='days'>"+$("<div/>").text(r[l]).html()+"</div>"),$("#class"+this.id+"form").append("<div class='time'>"+$("<div/>").text(i[l]).html()+"</div><br>");$("#class"+this.id+"form").append("<input type='radio' name='classlist"+this.id+"' value='none' class='option'>"),$("#class"+this.id+"form").append("<div class='days'>None</div>"),$("#classlist"+this.id).append("<div class='crn-label'>Selected CRN:&nbsp;</div><div class='crn-label' id='class"+this.id+"crn'>none</div"),$("input[type=radio][name=classlist"+this.id+"]").change(function(){$("#class"+a.id+"crn").text($("input[type=radio][name=classlist"+a.id+"]:checked").val()),a.add_to_calendar()}),$("input[type=radio][name=classlist"+this.id+"][value="+this.crns[this.selected]+"]").prop("checked","true"),$("#class"+a.id+"crn").text($("input[type=radio][name=classlist"+a.id+"]:checked").val()),a.add_to_calendar()}}