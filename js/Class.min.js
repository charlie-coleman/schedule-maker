function Class(t,e,i,n,s){this.name=t,this.crns=e,this.times=i,this.days=n,this.id=0;var r=this;this.rand_color=function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"},s=s||r.rand_color(),this.color=s,this.tConvert=function(t){return t=t.toString().match(/^([01]?\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[t],t.length>1&&(t=t.slice(1),t[5]=+t[0]<12?"am":"pm",t[0]=+t[0]%12||12),t.join("")},this.add_to_calendar=function(){$("div.class"+this.id+"display").remove();var t=["#sunday","#monday","#tuesday","#wednesday","#thursday","#friday","#saturday"],e=$("input:radio[name='classlist"+this.id+"']:checked").val();if("none"!=e&&null!=e)for(var i=this.crns.indexOf(e),n=0;n<this.days[i].length;n++)if(this.days[i][n]){var s=parseInt(this.times[i][0].substr(0,2)),r=parseInt(this.times[i][0].substr(3,5)),a=this.times[i][1].substr(0,2),o=this.times[i][1].substr(3,5),h=parseFloat(r)/60,l=parseFloat(o)/60,u=parseFloat(a)-parseFloat(s)-(h-l);$(t[n]).append("<div class='class"+this.id+"display' id='class"+this.id+"-"+n+"'>"+this.name+"</div>"),$("#class"+this.id+"-"+n).css({width:$($(".hour")[0]).width(),height:$($(".hour")[0]).height()*u,"border-radius":.01*$($(".hour")[0]).width(),position:"absolute",top:$("#hourdiv"+s).position().top+$($(".hour")[0]).height()*h,left:$(t[n]).position().left,background:this.color})}},this.add_to_list=function(t,i,n){n=n||"none",n="none"!=n?this.crns[parseInt(n)]:"none",this.id=$(".class").length.toString();for(var s=[],a=[],o=["Su","M","T","W","R","F","Sa"],h=0;h<this.days.length;h++){s[h]="";for(var l=0;7>l;l++)1==this.days[h][l]&&(s[h]=s[h]+o[l])}for(var h=0;h<this.times.length;h++){a[h]="";var u=this.times[h][0],c=this.times[h][1];i?a[h]=u.toString()+"-"+c.toString():(u=this.tConvert(u),c=this.tConvert(c),a[h]=u.toString()+"-"+c.toString())}t.append("<div class='class' id='classlist"+this.id+"'></div>"),$("#classlist"+this.id).append("<div class='name'>"+$("<div/>").text(this.name).html()+"</div>"),$("#classlist"+this.id).append("<button class='remove_class' onclick='javascript:remove_class("+this.id+");'><i class='fa fa-minus' aria-hidden='true'></i></button>"),$("#classlist"+this.id).append("<button class='edit' onclick='javascript:edit_class("+this.id+");'><i class='fa fa-pencil-square-o' aria-hidden='true'></i></button>"),$("#classlist"+this.id).append("<form id='class"+this.id+"form'></form>");for(var l=0;l<e.length;l++)$("#class"+this.id+"form").append("<input type='radio' name='classlist"+this.id+"' value="+$("<div/>").text(this.crns[l]).html()+" class='option'>"),$("#class"+this.id+"form").append("<div class='days'>"+$("<div/>").text(s[l]).html()+"</div>"),$("#class"+this.id+"form").append("<div class='time'>"+$("<div/>").text(a[l]).html()+"</div><br>");$("#class"+this.id+"form").append("<input type='radio' name='classlist"+this.id+"' value='none' class='option'>"),$("#class"+this.id+"form").append("<div class='days'>None</div>"),$("#classlist"+this.id).append("<div class='crn-label'>Selected CRN:&nbsp;</div><div class='crn-label' id='class"+this.id+"crn'>none</div"),$("input[type=radio][name=classlist"+this.id+"][value="+n+"]").prop("checked","checked"),r.add_to_calendar(),$("input[type=radio][name=classlist"+this.id+"]").change(function(){$("#class"+r.id+"crn").text($("input[type=radio][name=classlist"+r.id+"]:checked").val()),r.add_to_calendar()})}}